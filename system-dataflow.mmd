flowchart TD
    %% Styles
    classDef user fill:#fdd,stroke:#333,stroke-width:2px
    classDef process fill:#ddf,stroke:#333,stroke-width:2px
    classDef storage fill:#dfd,stroke:#333,stroke-width:2px
    classDef control fill:#fff,stroke:#f66,stroke-width:3px
    classDef external fill:#fdb,stroke:#333,stroke-width:2px
    
    %% Trust Boundaries
    subgraph ClientZone[Client Context]
        User((Developer))
        CLI[Command Line Interface]
        Browser[Web Client]
    end
    
    subgraph ServerZone[Server Context]
        Server[HTTP Server]
        CodeAnalyzer[Code Analyzer]
        Cache[(Cache)]
        DocGenerator[Documentation Generator]
        ThreatModeler[Threat Modeler]
        AWS{{AWS Bedrock AI}}
    end
    
    %% Data Flows
    User -->|CodeRepository| CLI
    User -->|CodeRepository| Browser
    CLI -->|CodeRepository| Server
    Browser -->|CodeRepository| Server
    Server -->|CodeRepository| CodeAnalyzer
    CodeAnalyzer -->|AnalyzedCode| Cache
    Cache -->|AnalyzedCode| DocGenerator
    Cache -->|AnalyzedCode| ThreatModeler
    DocGenerator -->|Documentation| Server
    ThreatModeler -->|ThreatModel| Server
    AWS -->|GeneratedDocumentation| DocGenerator
    Server -->|Documentation, ThreatModel| CLI
    Server -->|Documentation, ThreatModel| Browser
    
    %% Apply styles
    class User user
    class CLI process
    class Browser process
    class Server process
    class CodeAnalyzer process
    class Cache storage
    class DocGenerator process
    class ThreatModeler process
    class AWS control